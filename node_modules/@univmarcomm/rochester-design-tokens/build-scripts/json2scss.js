import fs from "fs";
import json2scss from "json2scss-map";
import tokens from "../tokens/tokens.json" with { type: "json" };

const scssFilename = "tokens.scss";
const json2scssOptions = {
	comments: "// This file is generated automatically. Do not edit this file directly. Consult the README.\n",
	prefix: "$tokens:",
	suffix: ";",
	colorConversion: true,
	convertTo: "hsl",
	cl4Syntax: true,
};

// output the scss file using json2scss
fs.writeFileSync(
	`./${scssFilename}`,
	json2scssOptions.comments +
		json2scssOptions.prefix +
		json2scss.convertJs(tokens, json2scssOptions) +
		json2scssOptions.suffix,
);

console.log(`${scssFilename} written`);
